# Dashboard

- Untuk membuat dashboard shadcn sudah menyediakan komponen sidebar yang bisa langsung di install dan digunakan
- Ketika meng-install sidebar, maka akan dibuatkan komponen `sidebar.tsx`, `sheet.tsx`, `separator.tsx`, `skeleton.tsx`, `tooltip.tsx` didalam folder `components\ui`
- Selain komponen diatas, kita juga akan dibuatkan custom hooks `use-mobile.ts` dalam folder `src\hooks`
- Sebagai tambahan, bisa install avatar dan breadcrumb untuk digunakan pada dashboard

```bash
npx shadcn@latest add sidebar avatar breadcrumb
```

### Dashboard Layout

- Buat folder grouping `src\app\(dashboard)` untuk halaman dashboard
- Buat folder `src\app\(dashboard)\admin` untuk halaman admin dashboard
- Buat file `layout.tsx` dalam folder `src\app\(dashboard)` untuk layout khusus halaman dashboard

```bash
├─ src
│  └─ app
│     ├─ (dashboard)
│     │     ├─ admin
│     │     │    ├─ _components
│     │     │    │    └─ login.tsx
│     │     │    └─ page.tsx
│     │     └─ layout.tsx
│     ├─ favicon.ico
│     ├─ global.css
│     ├─ page.tsx
│     └─ layout.tsx
└─ other folder
```

- Panggil `<SidebarProvider></SidebarProvider>` didalam `layout.tsx`
- Buat file `app-sidebar.tsx` di `components\common` untuk isi dari sidebar nya
- Kemudian panggil didalam `layout.tsx` dan bungkus didalam `<SidebarProvider></SidebarProvider>`
- Panggil component `<SidebarInset></SidebarInset>` untuk navigasi yang terpisah dari komponen `AppSidebar`.

```tsx
return (
  <SidebarProvider>
    <AppSidebar />
    <SidebarInset>
      <header>
        <div>
          <SidebarTrigger />
          <Separator />
        </div>
        <div>
          <DarkModeToggle />
        </div>
      </header>
      <main>{children}</main>
    </SidebarInset>
  </SidebarProvider>
);
```

### Dashboard Breadcrumb

- Breadcrumb digunakan untuk navigasi antar halaman dashboard
- Buat file `dashboard-breadcrumb.tsx` di `src\app\(dashboard)\_components` untuk komponent breadcrumb nya.
- Kemudian panggil didalam `layout.tsx` dan bungkus didalam `<SidebarProvider></SidebarProvider>`
- Gunakan `usePathname` untuk mendapatkan path/url saat ini yang sedang diakses yang akan digunakan untuk menampilkan breadcrumb
- Buat pengecekan pada path untuk breadcrump, jika path yang tidak sedang diakses maka menggunakan `<BreadcrumbLink></BreadcrumbLink>` sehingga apabila diklik akan menuju redirect ke halaman tersebut.
- Tapi jika halaman sedang diakses maka menggunakan `<BreadcrumbPage></BreadcrumbPage>` agar breadcrumb tersebut tidak bisa diklik

```tsx
<BreadcrumbItem className="capitalize">
  {index < paths.length - 1 ? (
    <BreadcrumbLink href={`/${paths.slice(0, index + 1).join("/")}`}>
      {path}
    </BreadcrumbLink>
  ) : (
    <BreadcrumbPage>{path}</BreadcrumbPage>
  )}
</BreadcrumbItem>
```

- Selain itu, lakukan pengecekan juga untuk <BreadcrumbSeparator/>` agar hanya muncul jika bukan halaman terakhir

```tsx
{
  index < paths.length - 1 && (
    <BreadcrumbSeparator className="text-muted-foreground" />
  );
}
```

### Sidebar Menu

- Untuk membuat menu di sidebar, kita bisa terlebih dahulu membuat file `sidebar-constant.ts` di `src\constants` sebagai konstanta untuk menu-menu yang ada di sidebar sehingga jika ada perubahan, hanya perlu merubah di satu tempat saja
- Data yang dibuat didalam `sidebar-constant.ts` adalah `title`, `url` dan `icon`
- Kemudian tinggal di maping dalam `app-sidebar.tsx` dan di bungkus dalam `<SidebarContent></SidebarContent>` untuk menampilkan menu-menu di sidebar

```tsx
<SidebarContent>
  <SidebarGroup>
    <SidebarGroupContent className="flex flex-col gap-2">
      <SidebarMenu>
        {SIDEBAR_MENU_LIST[profile.role as SidebarMenuKey]?.map((item) => (
          <SidebarMenuItem key={item.title}>
            <SidebarMenuButton asChild tooltip={item.title}>
              <a
                href={item.url}
                className={cn("h-auto px-4 py-3", {
                  "bg-indigo-500 text-slate-100 hover:bg-indigo-600 hover:text-slate-100":
                    pathname === item.url,
                })}
              >
                {item.icon && <item.icon className="size-5" />}
                <span>{item.title}</span>
              </a>
            </SidebarMenuButton>
          </SidebarMenuItem>
        ))}
      </SidebarMenu>
    </SidebarGroupContent>
  </SidebarGroup>
</SidebarContent>
```
